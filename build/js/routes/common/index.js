!function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};e[s][0].call(u.exports,function(t){var r=e[s][1][t];return o(r||t)},u,u.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=e(i(r.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(t){var n=r.isAbsolute(t),o="/"===s(t,-1);return(t=e(i(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}for(var o=n(t.split("/")),i=n(e.split("/")),s=Math.min(o.length,i.length),a=s,l=0;l<s;l++)if(o[l]!==i[l]){a=l;break}var c=[];for(l=a;l<o.length;l++)c.push("..");return(c=c.concat(i.slice(a))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var s="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:2}],2:[function(t,e,r){var n,o,i=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(t){n=s}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var c,u=[],d=!1,p=-1;function f(){d&&c&&(d=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!d){var t=l(f);d=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,d=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new m(t,e)),1!==u.length||d||l(h)};function m(t,e){this.fun=t,this.array=e}m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function g(){}i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,e,r){n=this,o=function(){"use strict";const t=function(t=[]){this.push(...t)};(t.prototype=new Array).limit=1/0,t.prototype.clean=(({stack:t="\nStack not available for "+navigator.userAgent}={})=>t.split("\n").slice(1).filter(t=>t).filter(t=>!/^_____/.test(t)).filter(t=>!/^persistence./.test(t))),t.prototype.add=function(t){return this.push(Object.assign({},t,{timestamp:(new Date).getTime(),stack:this.clean(new Error,"length"===t.key)},t)),this.length>this.limit&&this.splice(this.length-this.limit),this},t.prototype.type=function(e){return new t(this.filter(t=>t.type===e))},t.prototype.key=function(e){return new t(this.filter(t=>{const r=e.split(".").length;return t.key.split(".").slice(0,r).join(".")===e}))},t.prototype.latest=function(e=1/0){return new t(this.filter(t=>(new Date).getTime()-t.timestamp<e))};var e=new t;const r={},n=()=>"undefined"!=typeof window&&"localStorage"in window;r.load=(t=>{if(!n())return;const e=JSON.parse(localStorage.getItem("_____state")||"{}");if(e.data)for(let r in e.data)t[r]=e.data[r]}),r.save=(t=>{if(!n())return;const e=(new Date).getTime(),r=JSON.stringify({timestamp:e,data:t});localStorage.setItem("_____state",r)});const o={},i=["boolean","number","null","undefined","string"],s=(t=[])=>(r,n)=>{if("symbol"==typeof n)return r[n];if("_____history"===n)return e;if("_____listeners"===n)return o;const i=[...t.map(t=>t.property),n].join(".");if(n in r)return e.add({type:"read",key:i}),r[n];if(/^\$/.test(n)){const r=[...t.map(t=>t.property),n.slice(1)||"_____root"].join("."),i=r.split(".").reduce((t,e)=>t[e],c);return e.add({type:"listen",key:r}),o[r]=o[r]||[],(t,e)=>(o[r].push(t),t.setState?t:t(i))}},a=(t=[])=>(n,u,d)=>{if(/^\$/.test(u))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(u))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const p=[...t.map(t=>t.property),u].join("."),f=void 0===n[u]?"create":"update";e.add({type:f,key:p,value:d}),n[u]=d,r.save(c);const h=(t,e)=>{if(i.includes(typeof t)||null===t)return t;if(Array.isArray(t)&&(t=t.map((t,r,n)=>h(t,[...e,{target:n,property:r,value:t}]))),/^\{/.test(JSON.stringify(t)))for(let r in t){const o={target:n,property:r,value:t[r]};t[r]=h(t[r],[...e,o])}return new Proxy(t,{get:s(e),set:a(e),deleteProperty:l(e)})};return n[u]=h(d,[...t,{target:n,property:u,value:d}]),[...t,{target:n,property:u,value:d}].forEach((t,e,r)=>{const n=r.slice(0,e+1).map(t=>t.property).join(".");if(o[n]){const t=n.split(".").reduce((t,e)=>t[e],c);o[n].forEach(e=>{if(e&&e.setState)return e.setState({__state:Math.random()});e(t)})}}),!o._____root||(o._____root.forEach(t=>{if(t&&t.setState)return t.setState({__state:Math.random()});t(c)}),!0)},l=(t=[])=>(n,i)=>{if(/^\$/.test(i))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(i))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const s=[...t.map(t=>t.property),i].join(".");return e.add({type:"delete",key:s}),delete n[i],r.save(c),[...t,{target:n,property:i}].forEach((t,e,r)=>{const n=r.slice(0,e+1).map(t=>t.property).join(".");if(o[n]){const t=n.split(".").reduce((t,e)=>t[e],c);o[n].forEach(e=>e(t))}}),!o._____root||(o._____root.forEach(t=>{if(t&&t.setState)return t.setState({__state:Math.random()});t(c)}),!0)},c=new Proxy({},{get:s(),set:a(),deleteProperty:l()});return r.load(c),c},"object"==typeof r&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):n.state=o();var n,o},{}],4:[function(t,e,r){const n=t("./init");e.exports={init:n}},{"./init":5}],5:[function(t,e,r){var n=this;const o=t("../../state"),{apiKey:i}=o.auth;e.exports=(()=>{_.mixin(s.exports());const t=()=>{let t="90px";return 0===$("#sub-menu-container").length&&(t="50px"),$(window).width()<1280&&(t="50px"),t};if(o.config.fanartBackground&&$("#series-id").attr("value")){const e=$("body").attr("api-root")+"series/"+$("#series-slug").attr("value")+"/asset/fanart?api_key="+i;window.$.backstretch(e),$(".backstretch").css("top",t()),$(".backstretch").css("opacity",o.config.fanartBackgroundOpacity).fadeIn(500)}const e=function(){const t=$("div.horizontal-scroll").get();0!==t.length&&(t.map(t=>t.scrollWidth>t.clientWidth).indexOf(!0)>=0?($(".scroll-wrapper.left").addClass("show"),$(".scroll-wrapper.right").addClass("show")):($(".scroll-wrapper.left").removeClass("show"),$(".scroll-wrapper.right").removeClass("show")))};e(),$(window).on("resize",()=>{$(".backstretch").css("top",t()),e()});function r(t){$("html, body").animate({scrollTop:$(t).offset().top},500,"linear")}$("#scroll-left").on("click",t=>{t.preventDefault(),$("div.horizontal-scroll").animate({scrollLeft:"-=153"},1e3,"easeOutQuad")}),$("#scroll-right").on("click",t=>{t.preventDefault(),$("div.horizontal-scroll").animate({scrollLeft:"+=153"},1e3,"easeOutQuad")}),$(document).on("scroll",()=>{$(window).scrollTop()>100?$(".scroll-wrapper.top").addClass("show"):$(".scroll-wrapper.top").removeClass("show")}),$(".scroll-wrapper.top").on("click",()=>{r($("body"))}),$('a[href^="#season"]').on("click",t=>{t.preventDefault(),r($('a[name="'+$(n).attr("href").replace("#","")+'"]'))}),$("ul.nav li.dropdown").hover(function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(200).fadeIn(500)},function(){$(this).find(".dropdown-menu").stop(!0,!0).delay(200).fadeOut(500)});let a;$(".triggerhighlight").on("mouseover",t=>{a=(t=>{function e(t){return("0"+parseInt(t,10).toString(16)).slice(-2)}return"#"+e((t=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))[1])+e(t[2])+e(t[3])})($(t.currentTarget).parent().css("background-color")),$(n).parent().find(".triggerhighlight").css("background-color",((t,e)=>{(t=String(t).replace(/[^0-9a-f]/gi,"")).length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),e=e||0;let r,n,o="#";for(n=0;n<3;n++)r=parseInt(t.substr(2*n,2),16),o+=("00"+(r=Math.round(Math.min(Math.max(0,r+r*e),255)).toString(16))).substr(r.length);return o})(a,-.15))}).on("mouseout",()=>{$(n).parent().find(".triggerhighlight").css("background-color",a)}),$.rootDirCheck=function(){0===$("#rootDirs option:selected").length?($("button[data-add-show]").prop("disabled",!0),$("#configure_show_options").is(":checked")||($("#configure_show_options").prop("checked",!0),$("#content_configure_show_options").fadeIn("fast","linear")),0===$("#rootDirAlert").length?$("#content-row").before('<div id="rootDirAlert"><div class="text-center"><div class="alert alert-danger upgrade-notification hidden-print role="alert"><strong>ERROR!</strong> Unable to add recommended shows.  Please set a default directory first.</div></div></div>'):$("#rootDirAlert").show()):($("#rootDirAlert").hide(),$("button[data-add-show]").prop("disabled",!1))},window.$.confirm.options={confirmButton:"Yes",cancelButton:"Cancel",dialogClass:"modal-dialog",post:!1,confirm(t){location.href=t[0].href}},$("a.shutdown").confirm({title:"Shutdown",text:"Are you sure you want to shutdown Medusa?"}),$("a.restart").confirm({title:"Restart",text:"Are you sure you want to restart Medusa?"}),$("a.removeshow").confirm({title:"Remove Show",text:'Are you sure you want to remove <span class="footerhighlight">'+$("#showtitle").data("showname")+'</span> from the database?<br><br><input type="checkbox" id="deleteFiles"> <span class="red-text">Check to delete files as well. IRREVERSIBLE</span></input>',confirm(t){location.href=t[0].href+(document.getElementById("deleteFiles").checked?"&full=1":"")}}),$("a.clearhistory").confirm({title:"Clear History",text:"Are you sure you want to clear all download history?"}),$("a.trimhistory").confirm({title:"Trim History",text:"Are you sure you want to trim all download history older than 30 days?"}),$("a.submiterrors").confirm({title:"Submit Errors",text:'Are you sure you want to submit these errors ?<br><br><span class="red-text">Make sure Medusa is updated and trigger<br> this error with debug enabled before submitting</span>'}),$("#config-components").tabs({activate:(t,e)=>{let r=$(n).data("lastOpenedPanel");r||(r=$(e.oldPanel)),$(n).data("topPositionTab")||$(n).data("topPositionTab",$(e.newPanel).position().top),$(e.newPanel).hide().fadeIn(0),r&&r.toggleClass("ui-tabs-hide").css("position","absolute").css("top",$(n).data("topPositionTab")+"px").fadeOut(0,function(){$(this).css("position","")}),$(n).data("lastOpenedPanel",$(e.newPanel))}}),(navigator.maxTouchPoints||0)<2&&$(".dropdown-toggle").on("click",function(){const t=$(this);"true"===t.attr("aria-expanded")&&(window.location.href=$("base").attr("href")+t.attr("href"))}),o.config.fuzzyDating&&($.timeago.settings.allowFuture=!0,$.timeago.settings.strings={prefixAgo:null,prefixFromNow:"In ",suffixAgo:"ago",suffixFromNow:"",seconds:"a few seconds",minute:"a minute",minutes:"%d minutes",hour:"an hour",hours:"%d hours",day:"a day",days:"%d days",month:"a month",months:"%d months",year:"a year",years:"%d years",wordSeparator:" ",numbers:[]},$("[datetime]").timeago()),$(document.body).on("click","a[data-no-redirect]",function(t){return t.preventDefault(),$.get($(this).attr("href")),!1}),$(document.body).on("click",".bulkCheck",function(){const t=this,e=$(t).attr("id");$("."+e+":visible").each(function(){$(this).prop("checked",$(t).prop("checked"))})}),$(".enabler").each(function(){$(this).prop("checked")||$("#content_"+$(this).attr("id")).hide()}),$(".enabler").on("click",function(){$(this).prop("checked")?$("#content_"+$(this).attr("id")).fadeIn("fast","linear"):$("#content_"+$(this).attr("id")).fadeOut("fast","linear")}),$(".addQTip").each(function(){$(this).css({cursor:"help","text-shadow":"0px 0px 0.5px #666"});const t=$(this).data("qtip-my")||"left center",e=$(this).data("qtip-at")||"middle right";$(this).qtip({show:{solo:!0},position:{my:t,at:e},style:{tip:{corner:!0,method:"polygon"},classes:"qtip-rounded qtip-shadow ui-tooltip-sb"}})})})},{"../../state":6}],6:[function(t,e,r){const n=t("path"),o=t("statux");o.config={},o.auth.apiRoot=o.auth.apiRoot||n.join(document.getElementsByTagName("base")[0].href,"/api/v2/"),o.auth.apiKey=o.auth.apiKey||document.getElementsByTagName("body")[0].getAttribute("api-key"),o.components={loading:"",themeSpinner:""},window.state=o,e.exports=o},{path:1,statux:3}]},{},[4]);
//# sourceMappingURL=index.js.map
