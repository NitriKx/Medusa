!function e(t,s,o){function r(l,a){if(!s[l]){if(!t[l]){var i="function"==typeof require&&require;if(!a&&i)return i(l,!0);if(n)return n(l,!0);var u=new Error("Cannot find module '"+l+"'");throw u.code="MODULE_NOT_FOUND",u}var h=s[l]={exports:{}};t[l][0].call(h.exports,function(e){var s=t[l][1][e];return r(s||e)},h,h.exports,e,t,s,o)}return s[l].exports}for(var n="function"==typeof require&&require,l=0;l<o.length;l++)r(o[l]);return r}({1:[function(e,t,s){(function(e){function t(e,t){for(var s=0,o=e.length-1;o>=0;o--){var r=e[o];"."===r?e.splice(o,1):".."===r?(e.splice(o,1),s++):s&&(e.splice(o,1),s--)}if(t)for(;s--;s)e.unshift("..");return e}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return o.exec(e).slice(1)};s.resolve=function(){for(var s="",o=!1,r=arguments.length-1;r>=-1&&!o;r--){var l=r>=0?arguments[r]:e.cwd();if("string"!=typeof l)throw new TypeError("Arguments to path.resolve must be strings");l&&(s=l+"/"+s,o="/"===l.charAt(0))}return s=t(n(s.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+s||"."},s.normalize=function(e){var o=s.isAbsolute(e),r="/"===l(e,-1);return(e=t(n(e.split("/"),function(e){return!!e}),!o).join("/"))||o||(e="."),e&&r&&(e+="/"),(o?"/":"")+e},s.isAbsolute=function(e){return"/"===e.charAt(0)},s.join=function(){var e=Array.prototype.slice.call(arguments,0);return s.normalize(n(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},s.relative=function(e,t){e=s.resolve(e).substr(1),t=s.resolve(t).substr(1);function o(e){for(var t=0;t<e.length&&""===e[t];t++);for(var s=e.length-1;s>=0&&""===e[s];s--);return t>s?[]:e.slice(t,s-t+1)}for(var r=o(e.split("/")),n=o(t.split("/")),l=Math.min(r.length,n.length),a=l,i=0;i<l;i++)if(r[i]!==n[i]){a=i;break}var u=[];for(i=a;i<r.length;i++)u.push("..");return(u=u.concat(n.slice(a))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(e){var t=r(e),s=t[0],o=t[1];return s||o?(o&&(o=o.substr(0,o.length-1)),s+o):"."},s.basename=function(e,t){var s=r(e)[2];return t&&s.substr(-1*t.length)===t&&(s=s.substr(0,s.length-t.length)),s},s.extname=function(e){return r(e)[3]};function n(e,t){if(e.filter)return e.filter(t);for(var s=[],o=0;o<e.length;o++)t(e[o],o,e)&&s.push(e[o]);return s}var l="b"==="ab".substr(-1)?function(e,t,s){return e.substr(t,s)}:function(e,t,s){return t<0&&(t=e.length+t),e.substr(t,s)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,s){var o,r,n=t.exports={};function l(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}!function(){try{o="function"==typeof setTimeout?setTimeout:l}catch(e){o=l}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();function i(e){if(o===setTimeout)return setTimeout(e,0);if((o===l||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}var u,h=[],c=!1,p=-1;function d(){c&&u&&(c=!1,u.length?h=u.concat(h):p=-1,h.length&&m())}function m(){if(!c){var e=i(d);c=!0;for(var t=h.length;t;){for(u=h,h=[];++p<t;)u&&u[p].run();p=-1,t=h.length}u=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];h.push(new $(e,t)),1!==h.length||c||i(m)};function $(e,t){this.fun=e,this.array=t}$.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function v(){}n.on=v,n.addListener=v,n.once=v,n.off=v,n.removeListener=v,n.removeAllListeners=v,n.emit=v,n.prependListener=v,n.prependOnceListener=v,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],3:[function(e,t,s){o=this,r=function(){"use strict";const e=function(e=[]){this.push(...e)};(e.prototype=new Array).limit=1/0,e.prototype.clean=(({stack:e="\nStack not available for "+navigator.userAgent}={})=>e.split("\n").slice(1).filter(e=>e).filter(e=>!/^_____/.test(e)).filter(e=>!/^persistence./.test(e))),e.prototype.add=function(e){return this.push(Object.assign({},e,{timestamp:(new Date).getTime(),stack:this.clean(new Error,"length"===e.key)},e)),this.length>this.limit&&this.splice(this.length-this.limit),this},e.prototype.type=function(t){return new e(this.filter(e=>e.type===t))},e.prototype.key=function(t){return new e(this.filter(e=>{const s=t.split(".").length;return e.key.split(".").slice(0,s).join(".")===t}))},e.prototype.latest=function(t=1/0){return new e(this.filter(e=>(new Date).getTime()-e.timestamp<t))};var t=new e;const s={},o=()=>"undefined"!=typeof window&&"localStorage"in window;s.load=(e=>{if(!o())return;const t=JSON.parse(localStorage.getItem("_____state")||"{}");if(t.data)for(let s in t.data)e[s]=t.data[s]}),s.save=(e=>{if(!o())return;const t=(new Date).getTime(),s=JSON.stringify({timestamp:t,data:e});localStorage.setItem("_____state",s)});const r={},n=["boolean","number","null","undefined","string"],l=(e=[])=>(s,o)=>{if("symbol"==typeof o)return s[o];if("_____history"===o)return t;if("_____listeners"===o)return r;const n=[...e.map(e=>e.property),o].join(".");if(o in s)return t.add({type:"read",key:n}),s[o];if(/^\$/.test(o)){const s=[...e.map(e=>e.property),o.slice(1)||"_____root"].join("."),n=s.split(".").reduce((e,t)=>e[t],u);return t.add({type:"listen",key:s}),r[s]=r[s]||[],(e,t)=>(r[s].push(e),e.setState?e:e(n))}},a=(e=[])=>(o,h,c)=>{if(/^\$/.test(h))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(h))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const p=[...e.map(e=>e.property),h].join("."),d=void 0===o[h]?"create":"update";t.add({type:d,key:p,value:c}),o[h]=c,s.save(u);const m=(e,t)=>{if(n.includes(typeof e)||null===e)return e;if(Array.isArray(e)&&(e=e.map((e,s,o)=>m(e,[...t,{target:o,property:s,value:e}]))),/^\{/.test(JSON.stringify(e)))for(let s in e){const r={target:o,property:s,value:e[s]};e[s]=m(e[s],[...t,r])}return new Proxy(e,{get:l(t),set:a(t),deleteProperty:i(t)})};return o[h]=m(c,[...e,{target:o,property:h,value:c}]),[...e,{target:o,property:h,value:c}].forEach((e,t,s)=>{const o=s.slice(0,t+1).map(e=>e.property).join(".");if(r[o]){const e=o.split(".").reduce((e,t)=>e[t],u);r[o].forEach(t=>{if(t&&t.setState)return t.setState({__state:Math.random()});t(e)})}}),!r._____root||(r._____root.forEach(e=>{if(e&&e.setState)return e.setState({__state:Math.random()});e(u)}),!0)},i=(e=[])=>(o,n)=>{if(/^\$/.test(n))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(n))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const l=[...e.map(e=>e.property),n].join(".");return t.add({type:"delete",key:l}),delete o[n],s.save(u),[...e,{target:o,property:n}].forEach((e,t,s)=>{const o=s.slice(0,t+1).map(e=>e.property).join(".");if(r[o]){const e=o.split(".").reduce((e,t)=>e[t],u);r[o].forEach(t=>t(e))}}),!r._____root||(r._____root.forEach(e=>{if(e&&e.setState)return e.setState({__state:Math.random()});e(u)}),!0)},u=new Proxy({},{get:l(),set:a(),deleteProperty:i()});return s.load(u),u},"object"==typeof s&&void 0!==t?t.exports=r():"function"==typeof define&&define.amd?define(r):o.state=r();var o,r},{}],4:[function(e,t,s){const o=e("../../state");t.exports=(()=>{$("#testGrowl").on("click",function(){const e={};if(e.host=$.trim($("#growl_host").val()),e.password=$.trim($("#growl_password").val()),!e.host)return $("#testGrowl-result").html("Please fill out the necessary fields above."),void $("#growl_host").addClass("warning");$("#growl_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testGrowl-result").html(o.components.loading),$.get("home/testGrowl",{host:e.host,password:e.password}).done(e=>{$("#testGrowl-result").html(e),$("#testGrowl").prop("disabled",!1)})}),$("#testProwl").on("click",function(){const e={};if(e.api=$.trim($("#prowl_api").val()),e.priority=$("#prowl_priority").val(),!e.api)return $("#testProwl-result").html("Please fill out the necessary fields above."),void $("#prowl_api").addClass("warning");$("#prowl_api").removeClass("warning"),$(this).prop("disabled",!0),$("#testProwl-result").html(o.components.loading),$.get("home/testProwl",{prowl_api:e.api,prowl_priority:e.priority}).done(e=>{$("#testProwl-result").html(e),$("#testProwl").prop("disabled",!1)})}),$("#testKODI").on("click",function(){const e={};if(e.host=$.trim($("#kodi_host").val()),e.username=$.trim($("#kodi_username").val()),e.password=$.trim($("#kodi_password").val()),!e.host)return $("#testKODI-result").html("Please fill out the necessary fields above."),void $("#kodi_host").addClass("warning");$("#kodi_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testKODI-result").html(o.components.loading),$.get("home/testKODI",{host:e.host,username:e.username,password:e.password}).done(e=>{$("#testKODI-result").html(e),$("#testKODI").prop("disabled",!1)})}),$("#testPHT").on("click",function(){const e={};if(e.client={},e.client.host=$.trim($("#plex_client_host").val()),e.client.username=$.trim($("#plex_client_username").val()),e.client.password=$.trim($("#plex_client_password").val()),!e.client.host)return $("#testPHT-result").html("Please fill out the necessary fields above."),void $("#plex_client_host").addClass("warning");$("#plex_client_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testPHT-result").html(o.components.loading),$.get("home/testPHT",{host:e.client.host,username:e.client.username,password:e.client.password}).done(e=>{$("#testPHT-result").html(e),$("#testPHT").prop("disabled",!1)})}),$("#testPMS").on("click",function(){const e={};if(e.server={},e.server.host=$.trim($("#plex_server_host").val()),e.server.username=$.trim($("#plex_server_username").val()),e.server.password=$.trim($("#plex_server_password").val()),e.server.token=$.trim($("#plex_server_token").val()),!e.server.host)return $("#testPMS-result").html("Please fill out the necessary fields above."),void $("#plex_server_host").addClass("warning");$("#plex_server_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testPMS-result").html(o.components.loading),$.get("home/testPMS",{host:e.server.host,username:e.server.username,password:e.server.password,plex_server_token:e.server.token}).done(e=>{$("#testPMS-result").html(e),$("#testPMS").prop("disabled",!1)})}),$("#testEMBY").on("click",function(){const e={};if(e.host=$("#emby_host").val(),e.apikey=$("#emby_apikey").val(),!e.host||!e.apikey)return $("#testEMBY-result").html("Please fill out the necessary fields above."),$("#emby_host").addRemoveWarningClass(e.host),void $("#emby_apikey").addRemoveWarningClass(e.apikey);$("#emby_host,#emby_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testEMBY-result").html(o.components.loading),$.get("home/testEMBY",{host:e.host,emby_apikey:e.apikey}).done(e=>{$("#testEMBY-result").html(e),$("#testEMBY").prop("disabled",!1)})}),$("#testBoxcar2").on("click",function(){const e={};if(e.accesstoken=$.trim($("#boxcar2_accesstoken").val()),!e.accesstoken)return $("#testBoxcar2-result").html("Please fill out the necessary fields above."),void $("#boxcar2_accesstoken").addClass("warning");$("#boxcar2_accesstoken").removeClass("warning"),$(this).prop("disabled",!0),$("#testBoxcar2-result").html(o.components.loading),$.get("home/testBoxcar2",{accesstoken:e.accesstoken}).done(e=>{$("#testBoxcar2-result").html(e),$("#testBoxcar2").prop("disabled",!1)})}),$("#testPushover").on("click",function(){const e={};if(e.userkey=$("#pushover_userkey").val(),e.apikey=$("#pushover_apikey").val(),!e.userkey||!e.apikey)return $("#testPushover-result").html("Please fill out the necessary fields above."),$("#pushover_userkey").addRemoveWarningClass(e.userkey),void $("#pushover_apikey").addRemoveWarningClass(e.apikey);$("#pushover_userkey,#pushover_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testPushover-result").html(o.components.loading),$.get("home/testPushover",{userKey:e.userkey,apiKey:e.apikey}).done(e=>{$("#testPushover-result").html(e),$("#testPushover").prop("disabled",!1)})}),$("#testLibnotify").on("click",()=>{$("#testLibnotify-result").html(o.components.loading),$.get("home/testLibnotify",e=>{$("#testLibnotify-result").html(e)})}),$("#twitterStep1").on("click",()=>{$("#testTwitter-result").html(o.components.loading),$.get("home/twitterStep1",e=>{window.open(e)}).done(()=>{$("#testTwitter-result").html("<b>Step1:</b> Confirm Authorization")})}),$("#twitterStep2").on("click",()=>{const e={};e.key=$.trim($("#twitter_key").val()),$("#twitter_key").addRemoveWarningClass(e.key),e.key&&($("#testTwitter-result").html(o.components.loading),$.get("home/twitterStep2",{key:e.key},e=>{$("#testTwitter-result").html(e)})),$("#testTwitter-result").html("Please fill out the necessary fields above.")}),$("#testTwitter").on("click",()=>{$.get("home/testTwitter",e=>{$("#testTwitter-result").html(e)})}),$("#settingsNMJ").on("click",()=>{const e={};$("#nmj_host").val()&&($("#testNMJ-result").html(o.components.loading),e.host=$("#nmj_host").val(),$.get("home/settingsNMJ",{host:e.host},e=>{null===e&&($("#nmj_database").removeAttr("readonly"),$("#nmj_mount").removeAttr("readonly"));const t=$.parseJSON(e);$("#testNMJ-result").html(t.message),$("#nmj_database").val(t.database),$("#nmj_mount").val(t.mount),t.database?$("#nmj_database").prop("readonly",!0):$("#nmj_database").removeAttr("readonly"),t.mount?$("#nmj_mount").prop("readonly",!0):$("#nmj_mount").removeAttr("readonly")})),alert("Please fill in the Popcorn IP address"),$("#nmj_host").focus()}),$("#testNMJ").on("click",function(){const e={};e.host=$.trim($("#nmj_host").val()),e.database=$("#nmj_database").val(),e.mount=$("#nmj_mount").val(),e.host&&($("#nmj_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testNMJ-result").html(o.components.loading),$.get("home/testNMJ",{host:e.host,database:e.database,mount:e.mount}).done(e=>{$("#testNMJ-result").html(e),$("#testNMJ").prop("disabled",!1)})),$("#testNMJ-result").html("Please fill out the necessary fields above."),$("#nmj_host").addClass("warning")}),$("#settingsNMJv2").on("click",()=>{const e={};if($("#nmjv2_host").val()){$("#testNMJv2-result").html(o.components.loading),e.host=$("#nmjv2_host").val(),e.dbloc="";const t=document.getElementsByName("nmjv2_dbloc");for(let s=0,o=t.length;s<o;s++)if(t[s].checked){e.dbloc=t[s].value;break}e.dbinstance=$("#NMJv2db_instance").val(),$.get("home/settingsNMJv2",{host:e.host,dbloc:e.dbloc,instance:e.dbinstance},e=>{null===e&&$("#nmjv2_database").removeAttr("readonly");const t=$.parseJSON(e);$("#testNMJv2-result").html(t.message),$("#nmjv2_database").val(t.database),t.database?$("#nmjv2_database").prop("readonly",!0):$("#nmjv2_database").removeAttr("readonly")})}alert("Please fill in the Popcorn IP address"),$("#nmjv2_host").focus()}),$("#testNMJv2").on("click",function(){const e={};e.host=$.trim($("#nmjv2_host").val()),e.host&&($("#nmjv2_host").removeClass("warning"),$(this).prop("disabled",!0),$("#testNMJv2-result").html(o.components.loading),$.get("home/testNMJv2",{host:e.host}).done(e=>{$("#testNMJv2-result").html(e),$("#testNMJv2").prop("disabled",!1)})),$("#testNMJv2-result").html("Please fill out the necessary fields above."),$("#nmjv2_host").addClass("warning")}),$("#testFreeMobile").on("click",function(){const e={};if(e.id=$.trim($("#freemobile_id").val()),e.apikey=$.trim($("#freemobile_apikey").val()),!e.id||!e.apikey)return $("#testFreeMobile-result").html("Please fill out the necessary fields above."),e.id?$("#freemobile_id").removeClass("warning"):$("#freemobile_id").addClass("warning"),void(e.apikey?$("#freemobile_apikey").removeClass("warning"):$("#freemobile_apikey").addClass("warning"));$("#freemobile_id,#freemobile_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testFreeMobile-result").html(o.components.loading),$.get("home/testFreeMobile",{freemobile_id:e.id,freemobile_apikey:e.apikey}).done(e=>{$("#testFreeMobile-result").html(e),$("#testFreeMobile").prop("disabled",!1)})}),$("#testTelegram").on("click",function(){const e={};if(e.id=$.trim($("#telegram_id").val()),e.apikey=$.trim($("#telegram_apikey").val()),!e.id||!e.apikey)return $("#testTelegram-result").html("Please fill out the necessary fields above."),$("#telegram_id").addRemoveWarningClass(e.id),void $("#telegram_apikey").addRemoveWarningClass(e.apikey);$("#telegram_id,#telegram_apikey").removeClass("warning"),$(this).prop("disabled",!0),$("#testTelegram-result").html(o.components.loading),$.get("home/testTelegram",{telegram_id:e.id,telegram_apikey:e.apikey}).done(e=>{$("#testTelegram-result").html(e),$("#testTelegram").prop("disabled",!1)})}),$("#testSlack").on("click",function(){const e={};if(e.webhook=$.trim($("#slack_webhook").val()),!e.webhook)return $("#testSlack-result").html("Please fill out the necessary fields above."),void $("#slack_webhook").addRemoveWarningClass(e.webhook);$("#slack_webhook").removeClass("warning"),$(this).prop("disabled",!0),$("#testSlack-result").html(o.components.loading),$.get("home/testslack",{slack_webhook:e.webhook}).done(e=>{$("#testSlack-result").html(e),$("#testSlack").prop("disabled",!1)})}),$("#TraktGetPin").on("click",()=>{window.open($("#trakt_pin_url").val(),"popUp","toolbar=no, scrollbars=no, resizable=no, top=200, left=200, width=650, height=550"),$("#trakt_pin").prop("disabled",!1)}),$("#trakt_pin").on("keyup change",()=>{0===$("#trakt_pin").val().length?($("#TraktGetPin").removeClass("hide"),$("#authTrakt").addClass("hide")):($("#TraktGetPin").addClass("hide"),$("#authTrakt").removeClass("hide"))}),$("#authTrakt").on("click",()=>{const e={};e.pin=$("#trakt_pin").val(),0!==e.pin.length&&$.get("home/getTraktToken",{trakt_pin:e.pin}).done(e=>{$("#testTrakt-result").html(e),$("#authTrakt").addClass("hide"),$("#trakt_pin").prop("disabled",!0),$("#trakt_pin").val(""),$("#TraktGetPin").removeClass("hide")})}),$("#testTrakt").on("click",function(){const e={};return e.username=$.trim($("#trakt_username").val()),e.trendingBlacklist=$.trim($("#trakt_blacklist_name").val()),e.username?/\s/g.test(e.trendingBlacklist)?($("#testTrakt-result").html("Check blacklist name; the value needs to be a trakt slug"),void $("#trakt_blacklist_name").addClass("warning")):($("#trakt_username").removeClass("warning"),$("#trakt_blacklist_name").removeClass("warning"),$(this).prop("disabled",!0),$("#testTrakt-result").html(o.components.loading),void $.get("home/testTrakt",{username:e.username,blacklist_name:e.trendingBlacklist}).done(e=>{$("#testTrakt-result").html(e),$("#testTrakt").prop("disabled",!1)})):($("#testTrakt-result").html("Please fill out the necessary fields above."),void $("#trakt_username").addRemoveWarningClass(e.username))}),$("#forceSync").on("click",()=>{$("#testTrakt-result").html(o.components.loading),$.getJSON("home/forceTraktSync",e=>{$("#testTrakt-result").html(e.result)})}),$("#testEmail").on("click",()=>{const e=void 0===$("#email_tls").attr("checked")?0:1,t=$("#email_user").val().trim(),s=$("#email_password").val(),r=$("#testEmail-result");r.html(o.components.loading);let n=$("#email_host").val();n=n.length>0?n:null;let l=$("#email_port").val();l=l.length>0?l:null;let a=$("#email_from").val();a=a.length>0?a:"root@localhost";let i="";if(null===n&&(i+='<li style="color: red;">You must specify an SMTP hostname!</li>'),null===l?i+='<li style="color: red;">You must specify an SMTP port!</li>':(null===l.match(/^\d+$/)||parseInt(l,10)>65535)&&(i+='<li style="color: red;">SMTP port must be between 0 and 65535!</li>'),i.length>0)i="<ol>"+i+"</ol>",r.html(i);else{const o=prompt("Enter an email address to send the test to:",null);null===o||0===o.length||null===o.match(/.*@.*/)?r.html('<p style="color: red;">You must provide a recipient email address!</p>'):$.get("home/testEmail",{host:n,port:l,smtp_from:a,use_tls:e,user:t,pwd:s,to:o},e=>{$("#testEmail-result").html(e)})}}),$("#testNMA").on("click",function(){const e={};if(e.api=$.trim($("#nma_api").val()),e.priority=$("#nma_priority").val(),!e.api)return $("#testNMA-result").html("Please fill out the necessary fields above."),void $("#nma_api").addClass("warning");$("#nma_api").removeClass("warning"),$(this).prop("disabled",!0),$("#testNMA-result").html(o.components.loading),$.get("home/testNMA",{nma_api:e.api,nma_priority:e.priority}).done(e=>{$("#testNMA-result").html(e),$("#testNMA").prop("disabled",!1)})}),$("#testPushalot").on("click",function(){const e={};if(e.authToken=$.trim($("#pushalot_authorizationtoken").val()),!e.authToken)return $("#testPushalot-result").html("Please fill out the necessary fields above."),void $("#pushalot_authorizationtoken").addClass("warning");$("#pushalot_authorizationtoken").removeClass("warning"),$(this).prop("disabled",!0),$("#testPushalot-result").html(o.components.loading),$.get("home/testPushalot",{authorizationToken:e.authToken}).done(e=>{$("#testPushalot-result").html(e),$("#testPushalot").prop("disabled",!1)})}),$("#testPushbullet").on("click",function(){const e={};if(e.api=$.trim($("#pushbullet_api").val()),!e.api)return $("#testPushbullet-result").html("Please fill out the necessary fields above."),void $("#pushbullet_api").addClass("warning");$("#pushbullet_api").removeClass("warning"),$(this).prop("disabled",!0),$("#testPushbullet-result").html(o.components.loading),$.get("home/testPushbullet",{api:e.api}).done(e=>{$("#testPushbullet-result").html(e),$("#testPushbullet").prop("disabled",!1)})});const e=e=>{const t={};if(t.api=$("#pushbullet_api").val(),e&&$("#testPushbullet-result").html(o.components.loading),!t.api)return $("#testPushbullet-result").html("You didn't supply a Pushbullet api key"),$("#pushbullet_api").focus(),!1;$.get("home/getPushbulletDevices",{api:t.api},s=>{t.devices=$.parseJSON(s).devices,t.currentDevice=$("#pushbullet_device").val(),$("#pushbullet_device_list").html("");for(let e=0,s=t.devices.length;e<s;e++)!0===t.devices[e].active&&(t.currentDevice===t.devices[e].iden?$("#pushbullet_device_list").append('<option value="'+t.devices[e].iden+'" selected>'+t.devices[e].nickname+"</option>"):$("#pushbullet_device_list").append('<option value="'+t.devices[e].iden+'">'+t.devices[e].nickname+"</option>"));$("#pushbullet_device_list").prepend('<option value="" '+(""===t.currentDevice?"selected":"")+">All devices</option>"),e&&$("#testPushbullet-result").html(e)}),$("#pushbullet_device_list").on("change",()=>{$("#pushbullet_device").val($("#pushbullet_device_list").val()),$("#testPushbullet-result").html("Don't forget to save your new pushbullet settings.")})};$("#getPushbulletDevices").on("click",()=>{e("Device list updated. Please choose a device to push to.")}),e(),$("#email_show").on("change",()=>{const e=parseInt($("#email_show").val(),10);$.getJSON("home/loadShowNotifyLists",t=>{t._size>0&&$("#email_show_list").val(e>=0?t[e.toString()].list:"")})}),$("#prowl_show").on("change",()=>{const e=parseInt($("#prowl_show").val(),10);$.getJSON("home/loadShowNotifyLists",t=>{t._size>0&&$("#prowl_show_list").val(e>=0?t[e.toString()].prowl_notify_list:"")})});const t=()=>{$.getJSON("home/loadShowNotifyLists",e=>{let t,s;if(0===e._size)return;const o=[];for(s in e)"_"!==s.charAt(0)&&o.push(e[s]);const r=o.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0);t='<option value="-1">-- Select --</option>';for(s in r)r[s].id&&r[s].name&&(t+='<option value="'+r[s].id+'">'+$("<div/>").text(r[s].name).html()+"</option>");$("#email_show").html(t),$("#email_show_list").val(""),$("#prowl_show").html(t),$("#prowl_show_list").val("")})};t(),$("#email_show").on("notify",t),$("#prowl_show").on("notify",t),$("#email_show_save").on("click",()=>{$.post("home/saveShowNotifyList",{show:$("#email_show").val(),emails:$("#email_show_list").val()},t)}),$("#prowl_show_save").on("click",()=>{$.post("home/saveShowNotifyList",{show:$("#prowl_show").val(),prowlAPIs:$("#prowl_show_list").val()},()=>{t()})}),$("#use_plex_server").on("click",function(){$(this).is(":checked")?$(".plexinfo").removeClass("hide"):$(".plexinfo").addClass("hide")})})},{"../../state":5}],5:[function(e,t,s){const o=e("path"),r=e("statux");r.config={},r.auth.apiRoot=r.auth.apiRoot||o.join(document.getElementsByTagName("base")[0].href,"/api/v2/"),r.auth.apiKey=r.auth.apiKey||document.getElementsByTagName("body")[0].getAttribute("api-key"),r.components={loading:"",themeSpinner:""},window.state=r,t.exports=r},{path:1,statux:3}]},{},[4]);
//# sourceMappingURL=notifications.js.map
