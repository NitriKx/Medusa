{"version":3,"sources":["js/routes/add-shows/node_modules/browser-pack/_prelude.js","js/routes/add-shows/static/js/routes/add-shows/add-existing-show.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","on","seasonCheck","this","each","checked","dirArr","originalIndexer","attr","showName","showDir","indexerId","indexer","closest","find","val","push","encodeURIComponent","window","location","href","prop","join","loadContent","url","w","is","html","get","data","tablesorter","widgets","headers","0","sorter","lastTxt","append","event","preventDefault","tabs","animate","scrollTop"],"mappings":"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","file":"add-existing-show.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","const addExistingShow = () => {\n    $('#tableDiv').on('click', '#checkAll', function() {\n        const seasonCheck = this;\n        $('.dirCheck').each(function() {\n            this.checked = seasonCheck.checked;\n        });\n    });\n\n    $('#submitShowDirs').on('click', () => {\n        const dirArr = [];\n        $('.dirCheck').each(function() {\n            if (this.checked === true) {\n                const originalIndexer = $(this).attr('data-indexer');\n                const showName = $(this).attr('data-show-name');\n                const showDir = $(this).attr('data-show-dir');\n                let indexerId = '|' + $(this).attr('data-indexer-id');\n\n                const indexer = $(this).closest('tr').find('select').val();\n                if (originalIndexer !== indexer || originalIndexer === '0') {\n                    indexerId = '';\n                }\n                dirArr.push(encodeURIComponent(indexer + '|' + showDir + indexerId + '|' + showName));\n            }\n        });\n\n        if (dirArr.length === 0) {\n            return false;\n        }\n\n        window.location.href = $('base').attr('href') + 'addShows/addExistingShows?promptForSettings=' + ($('#promptForSettings').prop('checked') ? 'on' : 'off') + '&shows_to_add=' + dirArr.join('&shows_to_add=');\n    });\n\n    const loadContent = () => {\n        let url = '';\n        $('.dir_check').each((i, w) => {\n            if ($(w).is(':checked')) {\n                if (url.length !== 0) {\n                    url += '&';\n                }\n                url += 'rootDir=' + encodeURIComponent($(w).attr('id'));\n            }\n        });\n\n        $('#tableDiv').html('<img id=\"searchingAnim\" src=\"images/loading32.gif\" height=\"32\" width=\"32\" /> loading folders...');\n        $.get('addShows/massAddTable/', url, data => {\n            $('#tableDiv').html(data);\n            $('#addRootDirTable').tablesorter({\n                widgets: ['zebra'],\n                headers: {\n                    0: { sorter: false }\n                }\n            });\n        });\n    };\n\n    let lastTxt = '';\n    // @TODO this needs a real name, for now this fixes the issue of the page not loading at all,\n    //       before I added this I couldn't get the directories to show in the table\n    const a = function() {\n        if (lastTxt === $('#rootDirText').val()) {\n            return false;\n        }\n        lastTxt = $('#rootDirText').val();\n        $('#rootDirStaticList').html('');\n        $('#rootDirs option').each((i, w) => {\n            $('#rootDirStaticList').append('<li class=\"ui-state-default ui-corner-all\"><input type=\"checkbox\" class=\"cb dir_check\" id=\"' + $(w).val() + '\" checked=checked> <label for=\"' + $(w).val() + '\"><b>' + $(w).val() + '</b></label></li>');\n        });\n        loadContent();\n    };\n\n    a();\n\n    $('#rootDirText').on('change', a);\n\n    $('#rootDirStaticList').on('click', '.dir_check', loadContent);\n\n    $('#tableDiv').on('click', '.showManage', event => {\n        event.preventDefault();\n        $('#tabs').tabs('option', 'active', 0);\n        $('html,body').animate({ scrollTop: 0 }, 1000);\n    });\n};\n\nmodule.exports = addExistingShow;\n"]}