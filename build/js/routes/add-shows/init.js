!function t(e,r,n){function o(a,s){if(!r[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[a]={exports:{}};e[a][0].call(c.exports,function(t){var r=e[a][1][t];return o(r||t)},c,c.exports,t,e,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(t,e,r){(function(t){function e(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};r.resolve=function(){for(var r="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var a=o>=0?arguments[o]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(r=a+"/"+r,n="/"===a.charAt(0))}return r=e(i(r.split("/"),function(t){return!!t}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(t){var n=r.isAbsolute(t),o="/"===a(t,-1);return(t=e(i(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},r.isAbsolute=function(t){return"/"===t.charAt(0)},r.join=function(){var t=Array.prototype.slice.call(arguments,0);return r.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},r.relative=function(t,e){t=r.resolve(t).substr(1),e=r.resolve(e).substr(1);function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}for(var o=n(t.split("/")),i=n(e.split("/")),a=Math.min(o.length,i.length),s=a,l=0;l<a;l++)if(o[l]!==i[l]){s=l;break}var u=[];for(l=s;l<o.length;l++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},r.extname=function(t){return o(t)[3]};function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,t("_process"))},{_process:2}],2:[function(t,e,r){var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}}();function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}var u,c=[],d=!1,p=-1;function h(){d&&u&&(d=!1,u.length?c=u.concat(c):p=-1,c.length&&f())}function f(){if(!d){var t=l(h);d=!0;for(var e=c.length;e;){for(u=c,c=[];++p<e;)u&&u[p].run();p=-1,e=c.length}u=null,d=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];c.push(new m(t,e)),1!==c.length||d||l(f)};function m(t,e){this.fun=t,this.array=e}m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function y(){}i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],3:[function(t,e,r){n=this,o=function(){"use strict";const t=function(t=[]){this.push(...t)};(t.prototype=new Array).limit=1/0,t.prototype.clean=(({stack:t="\nStack not available for "+navigator.userAgent}={})=>t.split("\n").slice(1).filter(t=>t).filter(t=>!/^_____/.test(t)).filter(t=>!/^persistence./.test(t))),t.prototype.add=function(t){return this.push(Object.assign({},t,{timestamp:(new Date).getTime(),stack:this.clean(new Error,"length"===t.key)},t)),this.length>this.limit&&this.splice(this.length-this.limit),this},t.prototype.type=function(e){return new t(this.filter(t=>t.type===e))},t.prototype.key=function(e){return new t(this.filter(t=>{const r=e.split(".").length;return t.key.split(".").slice(0,r).join(".")===e}))},t.prototype.latest=function(e=1/0){return new t(this.filter(t=>(new Date).getTime()-t.timestamp<e))};var e=new t;const r={},n=()=>"undefined"!=typeof window&&"localStorage"in window;r.load=(t=>{if(!n())return;const e=JSON.parse(localStorage.getItem("_____state")||"{}");if(e.data)for(let r in e.data)t[r]=e.data[r]}),r.save=(t=>{if(!n())return;const e=(new Date).getTime(),r=JSON.stringify({timestamp:e,data:t});localStorage.setItem("_____state",r)});const o={},i=["boolean","number","null","undefined","string"],a=(t=[])=>(r,n)=>{if("symbol"==typeof n)return r[n];if("_____history"===n)return e;if("_____listeners"===n)return o;const i=[...t.map(t=>t.property),n].join(".");if(n in r)return e.add({type:"read",key:i}),r[n];if(/^\$/.test(n)){const r=[...t.map(t=>t.property),n.slice(1)||"_____root"].join("."),i=r.split(".").reduce((t,e)=>t[e],u);return e.add({type:"listen",key:r}),o[r]=o[r]||[],(t,e)=>(o[r].push(t),t.setState?t:t(i))}},s=(t=[])=>(n,c,d)=>{if(/^\$/.test(c))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(c))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const p=[...t.map(t=>t.property),c].join("."),h=void 0===n[c]?"create":"update";e.add({type:h,key:p,value:d}),n[c]=d,r.save(u);const f=(t,e)=>{if(i.includes(typeof t)||null===t)return t;if(Array.isArray(t)&&(t=t.map((t,r,n)=>f(t,[...e,{target:n,property:r,value:t}]))),/^\{/.test(JSON.stringify(t)))for(let r in t){const o={target:n,property:r,value:t[r]};t[r]=f(t[r],[...e,o])}return new Proxy(t,{get:a(e),set:s(e),deleteProperty:l(e)})};return n[c]=f(d,[...t,{target:n,property:c,value:d}]),[...t,{target:n,property:c,value:d}].forEach((t,e,r)=>{const n=r.slice(0,e+1).map(t=>t.property).join(".");if(o[n]){const t=n.split(".").reduce((t,e)=>t[e],u);o[n].forEach(e=>{if(e&&e.setState)return e.setState({__state:Math.random()});e(t)})}}),!o._____root||(o._____root.forEach(t=>{if(t&&t.setState)return t.setState({__state:Math.random()});t(u)}),!0)},l=(t=[])=>(n,i)=>{if(/^\$/.test(i))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(i))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const a=[...t.map(t=>t.property),i].join(".");return e.add({type:"delete",key:a}),delete n[i],r.save(u),[...t,{target:n,property:i}].forEach((t,e,r)=>{const n=r.slice(0,e+1).map(t=>t.property).join(".");if(o[n]){const t=n.split(".").reduce((t,e)=>t[e],u);o[n].forEach(e=>e(t))}}),!o._____root||(o._____root.forEach(t=>{if(t&&t.setState)return t.setState({__state:Math.random()});t(u)}),!0)},u=new Proxy({},{get:a(),set:s(),deleteProperty:l()});return r.load(u),u},"object"==typeof r&&void 0!==e?e.exports=o():"function"==typeof define&&define.amd?define(o):n.state=o();var n,o},{}],4:[function(t,e,r){const n=t("../../state");e.exports=(()=>{$("#tabs").tabs({collapsible:!0,selected:n.config.sortArticle?-1:0});const t=new LazyLoad({threshold:500});$.initRemoteShowGrid=function(){t.update(),t.handleScroll(),$("#showsort").val("original"),$("#showsortdirection").val("asc"),$("#showsort").on("change",function(){let t;switch(this.value){case"original":t="original-order";break;case"rating":$("#container").isotope({sortBy:"random"}),t="rating";break;case"rating_votes":t=["rating","votes"];break;case"votes":t="votes";break;default:t="name"}$("#container").isotope({sortBy:t})}),$("#rootDirs").on("change",()=>{$.rootDirCheck()}),$("#showsortdirection").on("change",function(){$("#container").isotope({sortAscending:"asc"===this.value})}),$("#container").isotope({sortBy:"original-order",layoutMode:"fitRows",getSortData:{name(t){const e=$(t).attr("data-name")||"";return(n.config.sortArticle?e:e.replace(/^((?:The|A|An)\s)/i,"")).toLowerCase()},rating:"[data-rating] parseInt",votes:"[data-votes] parseInt"}}).on("layoutComplete arrangeComplete removeComplete",()=>{t.update(),t.handleScroll()})},$.fn.loadRemoteShows=function(e,r,o){$(this).html('<img id="searchingAnim" src="images/loading32'+n.components.themeSpinner+'.gif" height="32" width="32" />&nbsp;'+r),$(this).load(e+" #container",function(e,r){"error"===r?$(this).empty().html(o):($.initRemoteShowGrid(),t.update(),t.handleScroll())})},$.initBlackListShowById=function(){$(document.body).on("click","button[data-blacklist-show]",function(t){return t.preventDefault(),!$(this).is(":disabled")&&($(this).html("Blacklisted").prop("disabled",!0),$(this).parent().find("button[data-add-show]").prop("disabled",!0),$.get("addShows/addShowToBlacklist?indexer_id="+$(this).attr("data-indexer-id")),!1)})},$.initAddShowById=function(){$(document.body).on("click","button[data-add-show]",function(t){if(t.preventDefault(),$(this).is(":disabled"))return!1;$(this).html("Added").prop("disabled",!0),$(this).parent().find("button[data-blacklist-show]").prop("disabled",!0);const e=[],r=[];$("#allowed_qualities option:selected").each((t,r)=>{e.push($(r).val())}),$("#preferred_qualities option:selected").each((t,e)=>{r.push($(e).val())});const n=$("#anime").prop("checked"),o=$("#configure_show_options").prop("checked");return $.get("addShows/addShowByID?indexer_id="+$(this).attr("data-indexer-id"),{root_dir:$("#rootDirs option:selected").val(),configure_show_options:o,indexer:$(this).attr("data-indexer"),show_name:$(this).attr("data-show-name"),quality_preset:$("#qualityPreset").val(),default_status:$("#statusSelect").val(),any_qualities:e.join(","),best_qualities:r.join(","),default_flatten_folders:$("#flatten_folders").prop("checked"),subtitles:$("#subtitles").prop("checked"),anime:n,scene:$("#scene").prop("checked"),default_status_after:$("#statusSelectAfter").val()}),!1}),$("#saveDefaultsButton").on("click",function(){const t=[],e=[];$("#allowed_qualities option:selected").each((e,r)=>{t.push($(r).val())}),$("#preferred_qualities option:selected").each((t,r)=>{e.push($(r).val())}),$.get("config/general/saveAddShowDefaults",{defaultStatus:$("#statusSelect").val(),allowed_qualities:t.join(","),preferred_qualities:e.join(","),defaultFlattenFolders:$("#flatten_folders").prop("checked"),subtitles:$("#subtitles").prop("checked"),anime:$("#anime").prop("checked"),scene:$("#scene").prop("checked"),defaultStatusAfter:$("#statusSelectAfter").val()}),$(this).prop("disabled",!0),new PNotify({title:"Saved Defaults",text:'Your "add show" defaults have been set to your current selections.',shadow:!1})}),$("#statusSelect, #qualityPreset, #flatten_folders, #allowed_qualities, #preferred_qualities, #subtitles, #scene, #anime, #statusSelectAfter").on("change",()=>{$("#saveDefaultsButton").prop("disabled",!1)}),$("#qualityPreset").on("change",()=>{$("span.prev").click(),$("span.next").click()})},$.updateBlackWhiteList=function(t){$("#white").children().remove(),$("#black").children().remove(),$("#pool").children().remove(),$("#anime").prop("checked")&&t?($("#blackwhitelist").show(),t&&$.getJSON("home/fetch_releasegroups",{show_name:t},t=>{"success"===t.result&&$.each(t.groups,(t,e)=>{const r=$("<option>");r.prop("value",e.name),r.html(e.name+" | "+e.rating+" | "+e.range),r.appendTo("#pool")})})):$("#blackwhitelist").hide()}})},{"../../state":5}],5:[function(t,e,r){const n=t("path"),o=t("statux");o.config={},o.auth.apiRoot=o.auth.apiRoot||n.join(document.getElementsByTagName("base")[0].href,"/api/v2/"),o.auth.apiKey=o.auth.apiKey||document.getElementsByTagName("body")[0].getAttribute("api-key"),o.components={loading:"",themeSpinner:""},window.state=o,e.exports=o},{path:1,statux:3}]},{},[4]);
//# sourceMappingURL=init.js.map
