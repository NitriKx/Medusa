!function e(t,r,n){function a(s,i){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!i&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return a(r||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)a(n[s]);return a}({1:[function(e,t,r){(function(e){function t(e,t){for(var r=0,n=e.length-1;n>=0;n--){var a=e[n];"."===a?e.splice(n,1):".."===a?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return n.exec(e).slice(1)};r.resolve=function(){for(var r="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var s=a>=0?arguments[a]:e.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(r=s+"/"+r,n="/"===s.charAt(0))}return r=t(o(r.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+r||"."},r.normalize=function(e){var n=r.isAbsolute(e),a="/"===s(e,-1);return(e=t(o(e.split("/"),function(e){return!!e}),!n).join("/"))||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},r.isAbsolute=function(e){return"/"===e.charAt(0)},r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},r.relative=function(e,t){e=r.resolve(e).substr(1),t=r.resolve(t).substr(1);function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}for(var a=n(e.split("/")),o=n(t.split("/")),s=Math.min(a.length,o.length),i=s,l=0;l<s;l++)if(a[l]!==o[l]){i=l;break}var u=[];for(l=i;l<a.length;l++)u.push("..");return(u=u.concat(o.slice(i))).join("/")},r.sep="/",r.delimiter=":",r.dirname=function(e){var t=a(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},r.basename=function(e,t){var r=a(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},r.extname=function(e){return a(e)[3]};function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}var s="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,e("_process"))},{_process:2}],2:[function(e,t,r){var n,a,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{a="function"==typeof clearTimeout?clearTimeout:i}catch(e){a=i}}();function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}var u,c=[],p=!1,h=-1;function d(){p&&u&&(p=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!p){var e=l(d);p=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,p=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===i||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{a(e)}catch(t){try{return a.call(null,e)}catch(t){return a.call(this,e)}}}(e)}}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||p||l(f)};function m(e,t){this.fun=e,this.array=t}m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={};function g(){}o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],3:[function(e,t,r){n=this,a=function(){"use strict";const e=function(e=[]){this.push(...e)};(e.prototype=new Array).limit=1/0,e.prototype.clean=(({stack:e="\nStack not available for "+navigator.userAgent}={})=>e.split("\n").slice(1).filter(e=>e).filter(e=>!/^_____/.test(e)).filter(e=>!/^persistence./.test(e))),e.prototype.add=function(e){return this.push(Object.assign({},e,{timestamp:(new Date).getTime(),stack:this.clean(new Error,"length"===e.key)},e)),this.length>this.limit&&this.splice(this.length-this.limit),this},e.prototype.type=function(t){return new e(this.filter(e=>e.type===t))},e.prototype.key=function(t){return new e(this.filter(e=>{const r=t.split(".").length;return e.key.split(".").slice(0,r).join(".")===t}))},e.prototype.latest=function(t=1/0){return new e(this.filter(e=>(new Date).getTime()-e.timestamp<t))};var t=new e;const r={},n=()=>"undefined"!=typeof window&&"localStorage"in window;r.load=(e=>{if(!n())return;const t=JSON.parse(localStorage.getItem("_____state")||"{}");if(t.data)for(let r in t.data)e[r]=t.data[r]}),r.save=(e=>{if(!n())return;const t=(new Date).getTime(),r=JSON.stringify({timestamp:t,data:e});localStorage.setItem("_____state",r)});const a={},o=["boolean","number","null","undefined","string"],s=(e=[])=>(r,n)=>{if("symbol"==typeof n)return r[n];if("_____history"===n)return t;if("_____listeners"===n)return a;const o=[...e.map(e=>e.property),n].join(".");if(n in r)return t.add({type:"read",key:o}),r[n];if(/^\$/.test(n)){const r=[...e.map(e=>e.property),n.slice(1)||"_____root"].join("."),o=r.split(".").reduce((e,t)=>e[t],u);return t.add({type:"listen",key:r}),a[r]=a[r]||[],(e,t)=>(a[r].push(e),e.setState?e:e(o))}},i=(e=[])=>(n,c,p)=>{if(/^\$/.test(c))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(c))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const h=[...e.map(e=>e.property),c].join("."),d=void 0===n[c]?"create":"update";t.add({type:d,key:h,value:p}),n[c]=p,r.save(u);const f=(e,t)=>{if(o.includes(typeof e)||null===e)return e;if(Array.isArray(e)&&(e=e.map((e,r,n)=>f(e,[...t,{target:n,property:r,value:e}]))),/^\{/.test(JSON.stringify(e)))for(let r in e){const a={target:n,property:r,value:e[r]};e[r]=f(e[r],[...t,a])}return new Proxy(e,{get:s(t),set:i(t),deleteProperty:l(t)})};return n[c]=f(p,[...e,{target:n,property:c,value:p}]),[...e,{target:n,property:c,value:p}].forEach((e,t,r)=>{const n=r.slice(0,t+1).map(e=>e.property).join(".");if(a[n]){const e=n.split(".").reduce((e,t)=>e[t],u);a[n].forEach(t=>{if(t&&t.setState)return t.setState({__state:Math.random()});t(e)})}}),!a._____root||(a._____root.forEach(e=>{if(e&&e.setState)return e.setState({__state:Math.random()});e(u)}),!0)},l=(e=[])=>(n,o)=>{if(/^\$/.test(o))throw new Error("The keys that start by $ are reserved and should not be set manually.");if(/^\_\_/.test(o))throw new Error("The keys that start by __ (two underscores) are reserved and should not be set manually.");const s=[...e.map(e=>e.property),o].join(".");return t.add({type:"delete",key:s}),delete n[o],r.save(u),[...e,{target:n,property:o}].forEach((e,t,r)=>{const n=r.slice(0,t+1).map(e=>e.property).join(".");if(a[n]){const e=n.split(".").reduce((e,t)=>e[t],u);a[n].forEach(t=>t(e))}}),!a._____root||(a._____root.forEach(e=>{if(e&&e.setState)return e.setState({__state:Math.random()});e(u)}),!0)},u=new Proxy({},{get:s(),set:i(),deleteProperty:l()});return r.load(u),u},"object"==typeof r&&void 0!==t?t.exports=a():"function"==typeof define&&define.amd?define(a):n.state=a();var n,a},{}],4:[function(e,t,r){const n=e("../../state");t.exports=(()=>{const e=()=>{const e=$("#summary").height()+10,t=$("#summary").offset().top+5;$("#summaryBackground").height(e),$("#summaryBackground").offset({top:t,left:0}),$("#summaryBackground").show()};$(".imdbPlot").on("click",function(){$(this).prev("span").toggle(),"..show less"===$(this).html()?$(this).html("..show more"):$(this).html("..show less"),e()}),$(window).on("resize",()=>{e()});const t=(e,t)=>{const r=$("#searchNotification");t&&(e='<img id="searchingAnim" src="images/loading32'+n.components.themeSpinner+'.gif" height="16" width="16" />&nbsp;'+e),$(r).empty().append(e)},r=()=>{const e=$("#wrapper").attr("data-history-toggle");$("#historydata").collapse(e)};$.fn.loadContainer=function(e,r,n,a){t(r),$("#manualSearchMeta").load(e+" #manualSearchMeta meta"),$(this).load(e+" #manualSearchTbody tr",(e,r)=>{"error"===r&&t(n,!1),void 0!==a&&a()})},$("body").on("click",".epManualSearch",function(e){e.preventDefault();const t=this;$(t).children("img").prop("src","images/loading16.gif"),$.getJSON(this.href,e=>{"success"===e.result?$(t).children("img").prop("src","images/save.png"):$(t).children("img").prop("src","images/no16.png")})});$(".imdbstars").$(".imdbstars").each((e,t)=>{$(t).html($("<span/>").width(12*$(t).text()))});const a=function(e=!0){const n=this,o=$("meta[data-last-prov-updates]").attr("data-show"),s=$("meta[data-last-prov-updates]").attr("data-season"),i=$("meta[data-last-prov-updates]").attr("data-episode"),l=$("meta[data-last-prov-updates]").data("last-prov-updates"),u=$("meta[data-last-prov-updates]").attr("data-manual-search-type");let c=5e3,p=o+"&season="+s+"&episode="+i;"season"===u&&(p+="&manual_search_type="+u),$.isNumeric(o)&&$.isNumeric(s)&&$.isNumeric(i)||setTimeout(()=>{a(!0)},200),n.refreshResults=function(){$("#manualSearchTbody").loadContainer("home/snatchSelection?show="+p,"Loading new search results...","Time out, refresh page to try again",r)},$.ajax({url:"home/manualSearchCheckCache?show="+p,type:"GET",data:l,contentType:"application/json",error(){console.log("Error occurred!!"),$(".manualSearchButton").removeAttr("disabled")},complete(){e&&setTimeout(a,c)},timeout:15e3}).done(r=>{"refresh"===r.result&&(n.refreshResults(),t("Refreshed results...",!0)),"searching"===r.result&&(c=5e3,$(".manualSearchButton").prop("disabled",!0),t("The episode is being searched, please wait......",!0)),"queued"===r.result&&(c=7e3,$(".manualSearchButton").prop("disabled",!0),t("The episode has been queued, because another search is taking place. please wait..",!0)),"finished"===r.result&&(t("Search finished",!1),$(".manualSearchButton").removeAttr("disabled"),e=!1,$("#srchresults").trigger("update",!0),$("[datetime]").timeago()),"error"===r.result&&(console.log("Probably tried to call manualSelectCheckCache, while page was being refreshed."),$(".manualSearchButton").removeAttr("disabled"),e=!0)})};setTimeout(a,2e3),$("body").on("click",".manualSearchButton",function(e){e.preventDefault(),$(".manualSearchButton").prop("disabled",!0);const r=$("meta[data-last-prov-updates]").attr("data-show"),n=$("meta[data-last-prov-updates]").attr("data-season"),o=$("meta[data-last-prov-updates]").attr("data-episode"),s=$("meta[data-last-prov-updates]").attr("data-manual-search-type"),i=$(this).attr("data-force-search");$.isNumeric(r)&&$.isNumeric(n)&&$.isNumeric(o)&&(t("Started a forced manual search...",!0),$.getJSON("home/snatchSelection",{show:r,season:n,episode:o,manual_search_type:s,perform_search:i}),setTimeout(()=>{a(!0)},2e3))}),$("#popover").popover({placement:"bottom",html:!0,content:'<div id="popover-target"></div>'}).on("shown.bs.popover",()=>{window.$.tablesorter.columnSelector.attachTo($("#srchresults"),"#popover-target")}),$("#btnReset").on("click",()=>($("#showTable").trigger("saveSortReset").trigger("sortReset"),!1)),$(()=>{$("#srchresults").tablesorter({widgets:["saveSort","stickyHeaders","columnSelector","filter"],widgetOptions:{filter_columnFilters:!0,filter_hideFilters:!0,filter_saveFilters:!0,columnSelector_saveColumns:!0,columnSelector_layout:'<label><input type="checkbox">{name}</label>',columnSelector_mediaquery:!1,columnSelector_cssChecked:"checked"},textExtraction:{6:e=>e.getAttribute("data-size")}}),e(),$("body").on("hide.bs.collapse",".collapse.toggle",()=>{$("#showhistory").text("Show History"),$("#wrapper").prop("data-history-toggle","hide")}),$("body").on("show.bs.collapse",".collapse.toggle",()=>{$("#showhistory").text("Hide History"),$("#wrapper").prop("data-history-toggle","show")})}),$(document).on("click",".release-name-ellipses, .release-name-ellipses-toggled",e=>{const t=$(e.currentTarget);t.hasClass("release-name-ellipses")?t.switchClass("release-name-ellipses","release-name-ellipses-toggled",100):t.switchClass("release-name-ellipses-toggled","release-name-ellipses",100)})})},{"../../state":5}],5:[function(e,t,r){const n=e("path"),a=e("statux");a.config={},a.auth.apiRoot=a.auth.apiRoot||n.join(document.getElementsByTagName("base")[0].href,"/api/v2/"),a.auth.apiKey=a.auth.apiKey||document.getElementsByTagName("body")[0].getAttribute("api-key"),a.components={loading:"",themeSpinner:""},window.state=a,t.exports=a},{path:1,statux:3}]},{},[4]);
//# sourceMappingURL=snatch-selection.js.map
