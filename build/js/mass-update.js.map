{"version":3,"sources":["js/node_modules/browser-pack/_prelude.js","js/static/js/mass-update.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","$","on","editArr","each","this","checked","push","attr","split","submitForm","join","appendTo","submit","updateArr","refreshArr","renameArr","subtitleArr","deleteArr","removeArr","metadataArr","imageUpdateArr","deleteCount","totalCount","concat","apply","window","confirm","title","text","confirmButton","cancelButton","dialogClass","post","[object Object]","params","param","toUpdate","toRefresh","toRename","toSubtitle","toDelete","toRemove","toMetadata","toImageUpdate","location","href","url","reload","forEach","name","lastCheck","event","shiftKey","check","found","disabled"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,IAAAS,YAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,IAAAE,EAAAD,EAAAI,GAAA,GAAAL,GAAA,OAAAI,EAAAF,GAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,EAAAa,GAAA,SAAAT,EAAAU,EAAAJ,GCAAK,EAAE,mBAAmBC,GAAG,QAAS,KAC7B,MAAMC,KAQN,GANAF,EAAE,cAAcG,KAAK,YACI,IAAjBC,KAAKC,SACLH,EAAQI,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAI5B,IAAnBN,EAAQL,OACR,OAGJ,MAAMY,EAAaT,2CACeA,EAAE,QAAQO,KAAK,mFACGL,EAAQQ,KAAK,kCAGjED,EAAWE,SAAS,QAEpBF,EAAWG,WAGfZ,EAAE,qBAAqBC,GAAG,QAAS,KAC/B,MAAMY,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KACAC,KAENpB,EAAE,gBAAgBG,KAAK,YACE,IAAjBC,KAAKC,SACLQ,EAAUP,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAIrDR,EAAE,iBAAiBG,KAAK,YACC,IAAjBC,KAAKC,SACLS,EAAWR,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAItDR,EAAE,gBAAgBG,KAAK,YACE,IAAjBC,KAAKC,SACLU,EAAUT,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAIrDR,EAAE,kBAAkBG,KAAK,YACA,IAAjBC,KAAKC,SACLW,EAAYV,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAIvDR,EAAE,gBAAgBG,KAAK,YACE,IAAjBC,KAAKC,SACLa,EAAUZ,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAIrDR,EAAE,eAAeG,KAAK,YACG,IAAjBC,KAAKC,SACLe,EAAed,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAI1D,IAAIa,EAAc,EAElBrB,EAAE,gBAAgBG,KAAK,YACE,IAAjBC,KAAKC,SACLgB,MAIR,MAAMC,KAAgBC,OAAOC,UAAWX,EAAWC,EAAYC,EAAWC,EAAaC,EAAWC,EAAWC,EAAaC,IAAiBvB,OAmC3I,GAjCIwB,GAAe,GACfI,OAAOzB,EAAE0B,SACLC,MAAO,eACPC,KAAM,+BAAiCP,EAAc,4FACrDQ,cAAe,MACfC,aAAc,SACdC,YAAa,eACbC,MAAM,EACNC,UAMI,GALAjC,EAAE,gBAAgBG,KAAK,YACE,IAAjBC,KAAKC,SACLY,EAAUX,KAAKN,EAAEI,MAAMG,KAAK,MAAMC,MAAM,KAAK,MAGlC,IAAfc,EACA,OAAO,EAEX,MAAMY,EAASlC,EAAEmC,OACbC,SAAUvB,EAAUH,KAAK,KACzB2B,UAAWvB,EAAWJ,KAAK,KAC3B4B,SAAUvB,EAAUL,KAAK,KACzB6B,WAAYvB,EAAYN,KAAK,KAC7B8B,SAAUvB,EAAUP,KAAK,KACzB+B,SAAUvB,EAAUR,KAAK,KACzBgC,WAAYvB,EAAYT,KAAK,KAC7BiC,cAAevB,EAAeV,KAAK,OAGvCe,OAAOmB,SAASC,KAAO7C,EAAE,QAAQO,KAAK,QAAU,qBAAuB2B,KAKhE,IAAfZ,EACA,OAAO,EAEX,GAAIT,EAAUhB,OAASiB,EAAWjB,OAASkB,EAAUlB,OAASmB,EAAYnB,OAASoB,EAAUpB,OAASqB,EAAUrB,OAASsB,EAAYtB,OAASuB,EAAevB,SAAW,EACpK,OAAO,EAEX,MAAMiD,EAAM9C,EAAE,QAAQO,KAAK,QAAU,oBAC/B2B,EAAS,YAAcrB,EAAUH,KAAK,KAAO,cAAgBI,EAAWJ,KAAK,KAAO,aAAeK,EAAUL,KAAK,KAAO,eAAiBM,EAAYN,KAAK,KAAO,aAAeO,EAAUP,KAAK,KAAO,aAAeQ,EAAUR,KAAK,KAAO,eAAiBS,EAAYT,KAAK,KAAO,kBAAoBU,EAAeV,KAAK,KACnUV,EAAEgC,KAAKc,EAAKZ,EAAQ,KAChBU,SAASG,QAAO,QAIvB,aAAc,eAAgB,gBAAiB,eAAgB,eAAgB,eAAgB,eAAeC,QAAQC,IACnH,IAAIC,EAAY,KAEhBlD,EAAEiD,GAAMhD,GAAG,QAAS,SAASkD,GACzB,IAAKD,IAAcC,EAAMC,SAErB,YADAF,EAAY9C,MAIhB,MAAMiD,EAAQjD,KACd,IAAIkD,EAAQ,EAEZtD,EAAEiD,GAAM9C,KAAK,WAMT,GALc,IAAVmD,IACKlD,KAAKmD,WACNnD,KAAKC,QAAU6C,EAAU7C,UAGnB,IAAViD,EACA,OAAO,EAEPlD,OAASiD,GAASjD,OAAS8C,GAC3BI","file":"mass-update.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","$('.submitMassEdit').on('click', () => {\n    const editArr = [];\n\n    $('.editCheck').each(function() {\n        if (this.checked === true) {\n            editArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    if (editArr.length === 0) {\n        return;\n    }\n\n    const submitForm = $(`\n        <form method=\"post\" action=\"${$('base').attr('href')}manage/massEdit\">\n            <input type=\"hidden\" name=\"toEdit\" value=\"${editArr.join('|')}\"/>\n        </form>\n    `);\n    submitForm.appendTo('body');\n\n    submitForm.submit();\n});\n\n$('.submitMassUpdate').on('click', () => {\n    const updateArr = [];\n    const refreshArr = [];\n    const renameArr = [];\n    const subtitleArr = [];\n    const deleteArr = [];\n    const removeArr = [];\n    const metadataArr = [];\n    const imageUpdateArr = [];\n\n    $('.updateCheck').each(function() {\n        if (this.checked === true) {\n            updateArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    $('.refreshCheck').each(function() {\n        if (this.checked === true) {\n            refreshArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    $('.renameCheck').each(function() {\n        if (this.checked === true) {\n            renameArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    $('.subtitleCheck').each(function() {\n        if (this.checked === true) {\n            subtitleArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    $('.removeCheck').each(function() {\n        if (this.checked === true) {\n            removeArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    $('.imageCheck').each(function() {\n        if (this.checked === true) {\n            imageUpdateArr.push($(this).attr('id').split('-')[1]);\n        }\n    });\n\n    let deleteCount = 0;\n\n    $('.deleteCheck').each(function() {\n        if (this.checked === true) {\n            deleteCount++;\n        }\n    });\n\n    const totalCount = [].concat.apply([], [updateArr, refreshArr, renameArr, subtitleArr, deleteArr, removeArr, metadataArr, imageUpdateArr]).length; // eslint-disable-line no-useless-call\n\n    if (deleteCount >= 1) {\n        window.$.confirm({\n            title: 'Delete Shows',\n            text: 'You have selected to delete ' + deleteCount + ' show(s).  Are you sure you wish to continue? All files will be removed from your system.',\n            confirmButton: 'Yes',\n            cancelButton: 'Cancel',\n            dialogClass: 'modal-dialog',\n            post: false,\n            confirm() {\n                $('.deleteCheck').each(function() {\n                    if (this.checked === true) {\n                        deleteArr.push($(this).attr('id').split('-')[1]);\n                    }\n                });\n                if (totalCount === 0) {\n                    return false;\n                }\n                const params = $.param({\n                    toUpdate: updateArr.join('|'),\n                    toRefresh: refreshArr.join('|'),\n                    toRename: renameArr.join('|'),\n                    toSubtitle: subtitleArr.join('|'),\n                    toDelete: deleteArr.join('|'),\n                    toRemove: removeArr.join('|'),\n                    toMetadata: metadataArr.join('|'),\n                    toImageUpdate: imageUpdateArr.join('|')\n                });\n\n                window.location.href = $('base').attr('href') + 'manage/massUpdate?' + params;\n            }\n        });\n    }\n\n    if (totalCount === 0) {\n        return false;\n    }\n    if (updateArr.length + refreshArr.length + renameArr.length + subtitleArr.length + deleteArr.length + removeArr.length + metadataArr.length + imageUpdateArr.length === 0) {\n        return false;\n    }\n    const url = $('base').attr('href') + 'manage/massUpdate';\n    const params = 'toUpdate=' + updateArr.join('|') + '&toRefresh=' + refreshArr.join('|') + '&toRename=' + renameArr.join('|') + '&toSubtitle=' + subtitleArr.join('|') + '&toDelete=' + deleteArr.join('|') + '&toRemove=' + removeArr.join('|') + '&toMetadata=' + metadataArr.join('|') + '&toImageUpdate=' + imageUpdateArr.join('|');\n    $.post(url, params, () => {\n        location.reload(true);\n    });\n});\n\n['.editCheck', '.updateCheck', '.refreshCheck', '.renameCheck', '.deleteCheck', '.removeCheck', '.imageCheck'].forEach(name => {\n    let lastCheck = null;\n\n    $(name).on('click', function(event) {\n        if (!lastCheck || !event.shiftKey) {\n            lastCheck = this;\n            return;\n        }\n\n        const check = this;\n        let found = 0;\n\n        $(name).each(function() {\n            if (found === 1) {\n                if (!this.disabled) {\n                    this.checked = lastCheck.checked;\n                }\n            }\n            if (found === 2) {\n                return false;\n            }\n            if (this === check || this === lastCheck) {\n                found++;\n            }\n        });\n    });\n});\n"]}